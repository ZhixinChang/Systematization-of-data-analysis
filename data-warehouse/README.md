# Data-warehouse
A methodology for scientifically planning data processing pipelines to ensure consistency in data analysis conclusions.

## Simple data warehouse layering
The following table presents a simple introduction to data warehouse layering, aimed at assisting data analysts in processing ETL work of data in the form of data pipelines to ensure consistency and integrity of data results.

| Layer | Definition | Purpose |
|:-----:|------------|---------|
| ADS：Application Data Service | The "final output layer" of the data warehouse is based on DWS/DWM/DIM layer data, customized processing is carried out according to "specific business scenario requirements", and directly outputs "data that can be directly used by the business". | Directly supporting business decisions is the final step in data reaching the business and realizing its value.<br>1. **Report output**: Generate daily/weekly operational reports, monthly financial reports, and management decision-making reports (such as Tableau/PowerBI visualization reports).<br>2. **Business interface**: provided for business system calls (such as calling the ADS layer order list interface on the "My Orders" page of the APP, and calling the ADS layer user preference interface on the "Product Recommendation" page of the e-commerce platform).<br>3. **Analysis support**: Provide data analysts with "customized datasets" (such as "user feature wide tables" for user profiling modeling and "industry sales comparison tables" for competitor analysis).|
| DIM：Dimension | The core of storing the hierarchical "business analysis dimensions" is to integrate all dimensional information and provide dimension correlation capabilities for fact tables (DWD/DWS/ADS). | 1. **Dimension association**: provides "dimension attribute supplement" for DWD layer detailed fact table and DWS layer summary fact table (such as DWD layer order table only having "user ID", associating DIM layer user table can obtain "user gender, city" and other attributes).<br>2. **Unified dimension standard**: All layers use the same set of dimension tables to avoid "inconsistent dimension attributes" (such as "product classification name" being obtained from the DIM layer product table in all tables to ensure data consistency).<br>3. **Support multi-dimensional analysis**: Business personnel can conduct "multi-dimensional cross analysis" based on dimension tables (such as analyzing sales by "product classification+user city+time", which requires linking product dimensions, user dimensions, and time dimensions). |
| DWS：Data Warehouse Summary | Based on DWD layer detailed data, a hierarchical approach of "mild aggregation" is carried out according to "business themes+analysis dimensions", with the core of "calculating general business indicators and achieving indicator reuse". | 1. **Indicator reuse**: Pre calculate commonly used indicators (such as daily activity and sales volume) in the DWS layer to avoid redundant aggregation in downstream ADS layers (reducing computational resource waste and improving query efficiency)<br>2. **Support flexible analysis**: The aggregation granularity is moderate and can support business personnel to "drill down analysis" (such as drill down from "national daily sales volume" to "daily sales volume of a certain product in a certain city")<br>3. **Provide data support for the DWM/ADS layer**: The real-time indicators of the DWM layer and the business reports of the ADS layer can be directly processed based on the pre calculated results of the DWS layer, shortening the development cycle. |
| DWM: Data Warehouse Middle | This layer performs slight aggregation operations on the data based on the DWD layer, generating intermediate result tables with columns to improve the reusability of common metrics and reduce repetitive processing work. | 1. **Improving processing efficiency**: As the amount of data increases, processing directly at the detail level can lead to performance bottlenecks. The DWM layer reduces direct queries on raw data by pre aggregating partial data, reduces the impact of OLAP on OLTP systems, and improves query efficiency.<br>‌2. **Ensuring data quality**: Through unified processing rules and redundant design, the DWM layer can filter erroneous data, ensure indicator consistency, and avoid analysis bias caused by changes in business system fields. |
| DWD：Data Warehouse Detail | The first processing layer of "cleaning, standardizing, and structuring" the raw data in the ODS layer, with the core of "preserving fine-grained information and solving data quality problems", does not perform business aggregation, only outputs "clean detailed data" (also known as the "data detail layer"). | 1. **Provide high-quality detailed data**: provide "clean and standard" basic data for downstream DWS/DWM layer aggregation calculation and DIM layer dimension correlation.<br>2. **Data quality control**: Resolve data quality issues (such as dirty data and inconsistent formats) at the DWD layer to avoid duplicate processing in downstream layers.3. **Reuse of detailed data**: supports scenarios where "fine-grained queries are required" (such as business investigation of "specific order details of a user", which can directly query the DWD layer order table). |
| ODS：Operational Data Store | The "entry layer" of a data warehouse directly stores unprocessed raw data synchronized from business systems (such as ERP, CRM, APP logs, databases, third-party interfaces), fully preserving the data format, structure, and content of the source system (only for "transmission and storage", without cleaning or calculation). | 1. **Data backup and backtracking**: Retain original data to avoid historical data loss caused by deletion/modification of source system data (such as backtracking ODS layer original records when troubleshooting "abnormal order data").<br>2. **Reduce source system dependencies**: Subsequent hierarchical processing is based on the ODS layer to avoid frequent queries to business systems (reducing the impact on business system performance).<br>3. **Full data precipitation**: Store all business data and provide the "most complete raw materials" for downstream layering (if new business indicators need to be added in the future, there is no need to pull data from the source system again). |
